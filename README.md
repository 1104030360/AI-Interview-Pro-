# AI Interview Pro + æƒ…ç·’åˆ†æç³»çµ±

<div align="center">

![Python](https://img.shields.io/badge/Python-3.8.18-3776AB?style=for-the-badge&logo=python&logoColor=white)
![Flask](https://img.shields.io/badge/Flask-3.0-000000?style=for-the-badge&logo=flask&logoColor=white)
![React](https://img.shields.io/badge/React-18.2-61DAFB?style=for-the-badge&logo=react&logoColor=black)
![TypeScript](https://img.shields.io/badge/TypeScript-5.8-3178C6?style=for-the-badge&logo=typescript&logoColor=white)
![TensorFlow](https://img.shields.io/badge/TensorFlow-2.13-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-6.2-646CFF?style=for-the-badge&logo=vite&logoColor=white)

![DeepFace](https://img.shields.io/badge/DeepFace-0.0.85-4285F4?style=flat-square)
![OpenCV](https://img.shields.io/badge/OpenCV-4.9-5C3EE8?style=flat-square&logo=opencv&logoColor=white)
![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0-D71F00?style=flat-square)
![JWT](https://img.shields.io/badge/JWT-Auth-000000?style=flat-square&logo=jsonwebtokens&logoColor=white)

**ğŸ¯ ä¸€å€‹æ•´åˆ AI é¢è©¦ç·´ç¿’èˆ‡å³æ™‚æƒ…ç·’åˆ†æçš„æ™ºæ…§å¹³å°**

*æ”¯æ´å¤šç¨® AI æ¨¡å‹ï¼ˆOpenAI GPTã€Geminiã€Ollamaï¼‰| å³æ™‚é›™é¡é ­æƒ…ç·’åˆ†æ | Producer-Consumer éåŒæ­¥é«˜æ•ˆèƒ½è™•ç†*

[ğŸš€ å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹) | [âœ¨ åŠŸèƒ½ç‰¹è‰²](#-åŠŸèƒ½ç‰¹è‰²) | [ğŸ—ï¸ ç³»çµ±æ¶æ§‹](#ï¸-ç³»çµ±æ¶æ§‹) | [ğŸ“– API æ–‡æª”](#-api-ç«¯é») | [â“ å¸¸è¦‹å•é¡Œ](#-å¸¸è¦‹å•é¡Œ)

</div>

---

## ğŸ“‘ ç›®éŒ„

- [ğŸ¯ å°ˆæ¡ˆæ¦‚è¦½](#-å°ˆæ¡ˆæ¦‚è¦½)
- [âœ¨ åŠŸèƒ½ç‰¹è‰²](#-åŠŸèƒ½ç‰¹è‰²)
- [ğŸ—ï¸ ç³»çµ±æ¶æ§‹](#ï¸-ç³»çµ±æ¶æ§‹)
- [ğŸ’» ç³»çµ±éœ€æ±‚](#-ç³»çµ±éœ€æ±‚)
- [ğŸ“¦ å®‰è£æŒ‡å—](#-å®‰è£æŒ‡å—)
- [ğŸš€ å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹)
- [ğŸ“ å°ˆæ¡ˆçµæ§‹](#-å°ˆæ¡ˆçµæ§‹)
- [ğŸ“– ä½¿ç”¨èªªæ˜](#-ä½¿ç”¨èªªæ˜)
- [ğŸ”Œ API ç«¯é»](#-api-ç«¯é»)
- [ğŸ—„ï¸ è³‡æ–™åº«æ¨¡å‹](#ï¸-è³‡æ–™åº«æ¨¡å‹)
- [ğŸ¤– AI Provider æ•´åˆ](#-ai-provider-æ•´åˆ)
- [âš¡ æ•ˆèƒ½å„ªåŒ–](#-æ•ˆèƒ½å„ªåŒ–)
- [ğŸ§ª é–‹ç™¼æŒ‡å—](#-é–‹ç™¼æŒ‡å—)
- [â“ å¸¸è¦‹å•é¡Œ](#-å¸¸è¦‹å•é¡Œ)
- [ğŸ“œ æˆæ¬Šè³‡è¨Š](#-æˆæ¬Šè³‡è¨Š)

---

## ğŸ¯ å°ˆæ¡ˆæ¦‚è¦½

æœ¬å°ˆæ¡ˆæ•´åˆå…©å¤§æ ¸å¿ƒç³»çµ±ï¼Œæ‰“é€ å®Œæ•´çš„ AI è¼”åŠ©é¢è©¦è¨“ç·´è§£æ±ºæ–¹æ¡ˆï¼š

### 1. AI Interview Pro - AI é¢è©¦ç·´ç¿’å¹³å°

ä¸€å€‹ç¾ä»£åŒ–çš„ AI é©…å‹•é¢è©¦ç·´ç¿’å¹³å°ï¼Œå¹«åŠ©ä½¿ç”¨è€…æå‡é¢è©¦æŠ€å·§ï¼š

- **ğŸ¤– AI æ•™ç·´**: æ•´åˆå¤šç¨® LLM (OpenAI GPT-4ã€Claudeã€Geminiã€Ollama) æä¾›å³æ™‚å›é¥‹èˆ‡å»ºè­°
- **ğŸ“š é¡Œåº«ç®¡ç†**: åˆ†é¡ç®¡ç†é¢è©¦é¡Œç›®ï¼Œæ”¯æ´ AI è‡ªå‹•ç”Ÿæˆèˆ‡æ‰¹é‡åŒ¯å…¥/åŒ¯å‡º
- **ğŸ“Š ç¸¾æ•ˆè¿½è¹¤**: è¦–è¦ºåŒ–å‘ˆç¾ç·´ç¿’æ­·ç¨‹èˆ‡é€²æ­¥è¶¨å‹¢ï¼Œæä¾›å€‹äººåŒ–å­¸ç¿’å»ºè­°
- **ğŸ¥ å½±ç‰‡éŒ„è£½**: éŒ„è£½é¢è©¦ç·´ç¿’ä¸¦é€²è¡Œå›æ”¾åˆ†æï¼Œæ”¯æ´æ–·é»çºŒå‚³

### 2. æƒ…ç·’åˆ†æç³»çµ± - å³æ™‚æƒ…ç·’è¾¨è­˜

åŸºæ–¼æ·±åº¦å­¸ç¿’çš„å³æ™‚æƒ…ç·’åˆ†æç³»çµ±ï¼Œæ¡ç”¨ **Producer-Consumer éåŒæ­¥æ¶æ§‹**ï¼š

- **âš¡ å³æ™‚åˆ†æ**: ä½¿ç”¨ DeepFace + TensorFlow é€²è¡Œæƒ…ç·’ã€å¹´é½¡ã€æ€§åˆ¥è¾¨è­˜
- **ğŸ“¹ é›™é¡é ­æ¨¡å¼**: åŒæ™‚åˆ†æé¡§å®¢èˆ‡æœå‹™å“¡çš„æƒ…ç·’ç‹€æ…‹ï¼ˆé©ç”¨æœå‹™æ¥­å ´æ™¯ï¼‰
- **ğŸš€ æ•ˆèƒ½å„ªåŒ–**: ThreadedCamera + AsyncDeepFaceAnalyzer æ¶æ§‹ï¼ŒFPS æå‡ 10-30 å€
- **ğŸ“ˆ å ±è¡¨ç”Ÿæˆ**: è‡ªå‹•ç”Ÿæˆæƒ…ç·’è¶¨å‹¢åœ–è¡¨ã€æ»¿æ„åº¦è©•åˆ†èˆ‡ JSON çµæœ

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### AI Interview Pro

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| **ğŸ” ä½¿ç”¨è€…èªè­‰** | JWT ç„¡ç‹€æ…‹èªè­‰ï¼Œæ”¯æ´ Token åˆ·æ–°æ©Ÿåˆ¶ |
| **ğŸ¤– AI æ•™ç·´** | æ”¯æ´ OpenAI GPT-4ã€Anthropic Claude 3ã€Google Geminiã€æœ¬åœ° Ollama |
| **ğŸ“š é¡Œåº«ç®¡ç†** | CRUD æ“ä½œã€AI ç”Ÿæˆé¡Œç›®ã€JSON åŒ¯å…¥/åŒ¯å‡ºåŠŸèƒ½ |
| **ğŸ“Š ç¸¾æ•ˆåˆ†æ** | Recharts æ™‚é–“åºåˆ—è¶¨å‹¢åœ–ã€å¤šç¶­åº¦çµ±è¨ˆæ‘˜è¦ |
| **ğŸ“¤ å½±ç‰‡ä¸Šå‚³** | æ”¯æ´é€²åº¦é¡¯ç¤ºã€åˆ†å¡Šä¸Šå‚³ã€éŒ¯èª¤é‡è©¦ |
| **ğŸ”’ å®‰å…¨æ€§** | API Key åŠ å¯†å„²å­˜ (Fernet AES-128-CBC)ã€bcrypt å¯†ç¢¼é›œæ¹Š |

### æƒ…ç·’åˆ†æç³»çµ±

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| **ğŸ˜Š æƒ…ç·’è¾¨è­˜** | è¾¨è­˜ 7 ç¨®æƒ…ç·’ (happy, sad, angry, fear, surprise, disgust, neutral) |
| **ğŸ‘¤ äººå£çµ±è¨ˆ** | è‡ªå‹•ä¼°ç®—å¹´é½¡ (Â±4.65 MAE) èˆ‡æ€§åˆ¥ (97.44% æº–ç¢ºç‡) |
| **ğŸ“¹ é›™é¡é ­** | æ”¯æ´ SINGLE/DUAL æ¨¡å¼ï¼Œå¯åŒæ™‚åˆ†æå¤šå€‹å°è±¡ |
| **âš¡ éåŒæ­¥è™•ç†** | Producer-Consumer æ¶æ§‹ï¼ŒUI åŸ·è¡Œç·’ä¸é˜»å¡ |
| **ğŸ“Š åœ–è¡¨ç”Ÿæˆ** | Matplotlib æƒ…ç·’æ³¢å½¢åœ–ã€é•·æ¢åœ–ã€åˆä½µåœ–è¡¨ |
| **ğŸ¬ å½±ç‰‡éŒ„è£½** | AVI éŒ„è£½ + FFmpeg è‡ªå‹•è½‰æª” MP4 |

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend (React + Vite)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Landing   â”‚ â”‚   Coach     â”‚ â”‚   Record    â”‚ â”‚  Settings   â”‚   â”‚
â”‚  â”‚    Page     â”‚ â”‚   Chat      â”‚ â”‚   Page      â”‚ â”‚    Page     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                       â”‚
â”‚                              â–¼                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚   API Service Layer â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP/REST
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend (Flask 3.0)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Auth      â”‚ â”‚   Coach     â”‚ â”‚  Questions  â”‚ â”‚  Analytics  â”‚   â”‚
â”‚  â”‚  Blueprint  â”‚ â”‚  Blueprint  â”‚ â”‚  Blueprint  â”‚ â”‚  Blueprint  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚               â”‚               â”‚               â”‚           â”‚
â”‚         â–¼               â–¼               â–¼               â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Service Layer                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚   Auth      â”‚ â”‚    AI       â”‚ â”‚     Provider        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  Service    â”‚ â”‚  Service    â”‚ â”‚     Registry        â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â”‚                   â”‚                     â”‚
â”‚                            â–¼                   â–¼                     â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚                   â”‚        AI Providers                  â”‚           â”‚
â”‚                   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚           â”‚
â”‚                   â”‚  â”‚ OpenAI â”‚ â”‚ Claude â”‚ â”‚ Gemini â”‚   â”‚           â”‚
â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚           â”‚
â”‚                   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚           â”‚
â”‚                   â”‚  â”‚ Ollama â”‚ (Local)                 â”‚           â”‚
â”‚                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚           â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                            â”‚                                         â”‚
â”‚                            â–¼                                         â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                   â”‚  SQLite + ORM   â”‚                               â”‚
â”‚                   â”‚  (SQLAlchemy)   â”‚                               â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Emotion Analysis System (Python)                     â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Main Process (UI Thread)                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚  â”‚  â”‚ ThreadedCamera  â”‚â”€â”€â”€â”€â–¶â”‚  Frame Display  â”‚                â”‚   â”‚
â”‚  â”‚  â”‚  (Non-blocking) â”‚     â”‚   (OpenCV)      â”‚                â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                                                       â”‚
â”‚              â–¼ Frame Queue (Producer)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              AsyncDeepFaceAnalyzer (Consumer)                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚   Frame     â”‚ â”‚  DeepFace   â”‚ â”‚   Result Queue      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   Queue     â”‚â”€â–¶â”‚  Analysis   â”‚â”€â–¶â”‚   (Non-blocking)    â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  Features:                                                   â”‚   â”‚
â”‚  â”‚  â€¢ Frame skipping (æ¯ 5 å¹€åˆ†æä¸€æ¬¡)                          â”‚   â”‚
â”‚  â”‚  â€¢ Image downsampling (320x240)                             â”‚   â”‚
â”‚  â”‚  â€¢ Metal/CUDA GPU acceleration                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                                                       â”‚
â”‚              â–¼                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Output Generation                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚   Charts    â”‚ â”‚   Video     â”‚ â”‚   JSON Results      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚ (Matplotlib)â”‚ â”‚   (MP4)     â”‚ â”‚   (analysis.json)   â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» ç³»çµ±éœ€æ±‚

### ç¡¬é«”éœ€æ±‚

| çµ„ä»¶ | æœ€ä½éœ€æ±‚ | å»ºè­°é…ç½® |
|------|---------|---------|
| **CPU** | Intel Core i5 / Apple M1 | Intel Core i7 / Apple M2 ä»¥ä¸Š |
| **RAM** | 8GB | 16GB ä»¥ä¸Š |
| **GPU** | å…§å»ºé¡¯ç¤º | æ”¯æ´ Metal (macOS) æˆ– CUDA (Windows/Linux) |
| **å„²å­˜ç©ºé–“** | 10GB | 20GB SSD |
| **æ”å½±æ©Ÿ** | 1 å€‹ USB ç¶²è·¯æ”å½±æ©Ÿ | 2 å€‹ USB ç¶²è·¯æ”å½±æ©Ÿ (é›™é¡é ­æ¨¡å¼) |

### è»Ÿé«”éœ€æ±‚

| è»Ÿé«” | ç‰ˆæœ¬ | èªªæ˜ |
|------|------|------|
| **ä½œæ¥­ç³»çµ±** | macOS 12+ / Windows 10+ / Ubuntu 20.04+ | è·¨å¹³å°æ”¯æ´ |
| **Python** | 3.8.18 | å»ºè­°ä½¿ç”¨ Conda ç®¡ç†ç’°å¢ƒ |
| **Node.js** | 18.x+ | å‰ç«¯é–‹ç™¼ç’°å¢ƒ |
| **pnpm** | 8.x+ | å‰ç«¯å¥—ä»¶ç®¡ç† (å»ºè­°) |
| **FFmpeg** | 4.x+ | å½±ç‰‡è½‰æª” (å¯é¸) |

### ç€è¦½å™¨æ”¯æ´

| ç€è¦½å™¨ | ç‰ˆæœ¬ |
|--------|------|
| Chrome | 90+ |
| Firefox | 88+ |
| Safari | 14+ |
| Edge | 90+ |

---

## ğŸ“¦ å®‰è£æŒ‡å—

### æ­¥é©Ÿ 1: è¤‡è£½å°ˆæ¡ˆ

```bash
git clone https://github.com/1104030360/AI-Interview-Pro-.git
cd AI-Interview-Pro-
```

### æ­¥é©Ÿ 2: è¨­å®š Conda ç’°å¢ƒ

```bash
# å»ºç«‹ Conda ç’°å¢ƒ (å»ºè­°ä½¿ç”¨ Miniforge/Miniconda)
conda create -n new_tf_env python=3.8.18
conda activate new_tf_env

# å®‰è£æƒ…ç·’åˆ†æç³»çµ±ä¾è³´ (TensorFlow, DeepFace, OpenCV ç­‰)
pip install -r requirements.txt

# å®‰è£å¾Œç«¯ API ä¾è³´ (Flask, SQLAlchemy, JWT ç­‰)
pip install -r backend/requirements_backend.txt
```

> **ğŸ’¡ æç¤º**: å¦‚æœåœ¨ macOS M1/M2 ä¸Šé‡åˆ° TensorFlow å•é¡Œï¼Œå¯ä½¿ç”¨ï¼š
> ```bash
> conda install -c apple tensorflow-deps
> pip install tensorflow-macos tensorflow-metal
> ```

### æ­¥é©Ÿ 3: è¨­å®šå‰ç«¯ç’°å¢ƒ

```bash
cd "ai-interview-pro (1)"

# ä½¿ç”¨ pnpm (å»ºè­°ï¼Œæ›´å¿«ä¸”ç¯€çœç£ç¢Ÿç©ºé–“)
pnpm install

# æˆ–ä½¿ç”¨ npm (å¦‚é‡ä¾è³´è¡çª)
npm install --legacy-peer-deps
```

### æ­¥é©Ÿ 4: ç’°å¢ƒè®Šæ•¸è¨­å®š

è¤‡è£½ç¯„ä¾‹æª”æ¡ˆä¸¦ä¿®æ”¹ï¼š

```bash
cp .env.example .env
```

ç·¨è¼¯ `.env` æª”æ¡ˆï¼š

```properties
# === æ¨¡å‹è·¯å¾‘ (æƒ…ç·’åˆ†æç³»çµ±) ===
MODEL_DIR=/path/to/your/converted_keras-2
KERAS_MODEL_PATH=${MODEL_DIR}/keras_model.h5
LABELS_PATH=${MODEL_DIR}/labels.txt

# === å­—é«”è·¯å¾‘ (ä¸­æ–‡é¡¯ç¤º) ===
FONT_PATH=/path/to/NotoSansTC-VariableFont_wght.ttf

# === æ”å½±æ©Ÿè¨­å®š ===
CAMERA_0_ID=0                    # é¡§å®¢æ”å½±æ©Ÿ ID
CAMERA_1_ID=1                    # æœå‹™å“¡æ”å½±æ©Ÿ ID
CAMERA_MODE=DUAL                 # SINGLE æˆ– DUAL

# === DeepFace è¨­å®š ===
DEEPFACE_DETECTOR=opencv         # åµæ¸¬å™¨ (opencv/ssd/mtcnn/retinaface)
DEEPFACE_FRAME_SKIP=5            # æ¯ N å¹€åˆ†æä¸€æ¬¡

# === å¾Œç«¯ API è¨­å®š ===
FLASK_ENV=development
SECRET_KEY=your-secret-key-here
JWT_SECRET_KEY=your-jwt-secret-here

# === AI è¨­å®šåŠ å¯†é‡‘é‘° (ç”Ÿç”¢ç’°å¢ƒå¿…å¡«) ===
# ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ:
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
AI_SETTINGS_ENCRYPTION_KEY=
```

### æ­¥é©Ÿ 5: åˆå§‹åŒ–è³‡æ–™åº«

```bash
cd backend
python -c "from database import db, init_db; from app import create_app; app = create_app(); init_db(app)"
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å•Ÿå‹•å¾Œç«¯ API (Port 5001)

```bash
conda activate new_tf_env
cd backend
python app.py
```

çœ‹åˆ°ä»¥ä¸‹è¨Šæ¯è¡¨ç¤ºå•Ÿå‹•æˆåŠŸï¼š

```text
============================================================
ğŸš€ AI Interview Pro Backend API Server
============================================================
ğŸ“ Running on: http://0.0.0.0:5001
ğŸ”§ Debug mode: True
ğŸ’¾ Database: sqlite:///...interview_pro.db
============================================================
```

### å•Ÿå‹•å‰ç«¯ (Port 3000)

é–‹å•Ÿæ–°çµ‚ç«¯æ©Ÿï¼š

```bash
cd "ai-interview-pro (1)"
pnpm dev
```

å‰ç«¯å°‡åœ¨ `http://localhost:3000` å•Ÿå‹•ã€‚

### å•Ÿå‹•æƒ…ç·’åˆ†æç³»çµ±

é–‹å•Ÿæ–°çµ‚ç«¯æ©Ÿï¼š

```bash
conda activate new_tf_env
python project_refactored.py
```

æ“ä½œæ–¹å¼ï¼š

- ç¨‹å¼å•Ÿå‹•å¾Œæœƒé–‹å•Ÿæ”å½±æ©Ÿè¦–çª—
- åµæ¸¬åˆ°äººè‡‰å¾Œ 3 ç§’é–‹å§‹åˆ†æ
- æŒ‰ `Q` éµçµæŸåˆ†æä¸¦ç”Ÿæˆå ±è¡¨

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```text
å°ˆé¡Œpython/
â”œâ”€â”€ backend/                      # Flask å¾Œç«¯ API
â”‚   â”œâ”€â”€ api/                     # API ç«¯é» (auth, analytics, coach, questions...)
â”‚   â”œâ”€â”€ models/                  # SQLAlchemy è³‡æ–™æ¨¡å‹
â”‚   â”œâ”€â”€ services/                # æ¥­å‹™é‚è¼¯å±¤
â”‚   â”‚   â””â”€â”€ providers/          # AI Provider (OpenAI, Claude, Gemini, Ollama)
â”‚   â”œâ”€â”€ prompts/                 # Prompt æ¨¡æ¿
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·æ¨¡çµ„ (crypto, llm_parser)
â”‚   â””â”€â”€ tests/                   # æ¸¬è©¦å¥—ä»¶
â”‚
â”œâ”€â”€ ai-interview-pro (1)/         # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # React å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ pages/              # é é¢å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ services/           # API æœå‹™å±¤
â”‚   â”‚   â””â”€â”€ hooks/              # è‡ªè¨‚ Hooks
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ utils/                        # æƒ…ç·’åˆ†æå·¥å…·æ¨¡çµ„
â”‚   â”œâ”€â”€ analysis.py              # DeepFace åˆ†æé‚è¼¯
â”‚   â”œâ”€â”€ async_analysis.py        # éåŒæ­¥åˆ†ææ ¸å¿ƒ
â”‚   â”œâ”€â”€ camera.py                # æ”å½±æ©Ÿæ“ä½œ
â”‚   â”œâ”€â”€ display.py               # ç•«é¢é¡¯ç¤º
â”‚   â””â”€â”€ visualization.py         # åœ–è¡¨ç”Ÿæˆ
â”‚
â”œâ”€â”€ models/                       # è³‡æ–™æ¨¡å‹
â”‚   â””â”€â”€ camera_state.py          # æ”å½±æ©Ÿç‹€æ…‹ç®¡ç†
â”‚
â”œâ”€â”€ config.py                     # è¨­å®šç®¡ç†
â”œâ”€â”€ project_refactored.py         # æƒ…ç·’åˆ†æä¸»ç¨‹å¼
â”œâ”€â”€ Auto_Switch_refactored.py     # è‡ªå‹•è§¸ç™¼ç¨‹å¼
â”œâ”€â”€ requirements.txt              # Python ä¾è³´
â””â”€â”€ .env.example                  # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
```

---

## ğŸ“– ä½¿ç”¨èªªæ˜

### AI Interview Pro ä½¿ç”¨æµç¨‹

1. **è¨»å†Š/ç™»å…¥**: åœ¨é¦–é é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€é€²è¡Œè¨»å†Šæˆ–ç™»å…¥
2. **ç³»çµ±æª¢æŸ¥**: å…è¨±æ”å½±æ©Ÿå’Œéº¥å…‹é¢¨æ¬Šé™
3. **æ¦‚è¦½é **: æŸ¥çœ‹ç¸¾æ•ˆè¶¨å‹¢å’Œçµ±è¨ˆæ‘˜è¦
4. **ç·´ç¿’é¢è©¦**:
   - é€²å…¥ã€ŒéŒ„è£½ã€é é¢
   - é¸æ“‡é¢è©¦é¡å‹
   - é–‹å§‹éŒ„è£½ç·´ç¿’
5. **AI æ•™ç·´**: èˆ‡ AI æ•™ç·´å°è©±ï¼Œç²å–å€‹äººåŒ–å»ºè­°
6. **é¡Œåº«**: ç€è¦½ã€æ–°å¢æˆ– AI ç”Ÿæˆé¢è©¦é¡Œç›®
7. **åˆ†æ**: æŸ¥çœ‹æ­·å²è¨˜éŒ„å’Œè©³ç´°åˆ†æå ±å‘Š

### æƒ…ç·’åˆ†æç³»çµ±ä½¿ç”¨æµç¨‹

1. **ç’°å¢ƒæº–å‚™**:

   ```bash
   conda activate new_tf_env
   ```

2. **åŸ·è¡Œåˆ†æ**:

   ```bash
   python project_refactored.py
   ```

3. **æ“ä½œèªªæ˜**:
   - ç³»çµ±å•Ÿå‹•å¾Œæœƒé–‹å•Ÿæ”å½±æ©Ÿè¦–çª—
   - åµæ¸¬åˆ° `Class 1` (äººç‰©) å¾Œï¼Œç­‰å¾… 3 ç§’é–‹å§‹æƒ…ç·’åˆ†æ
   - åµæ¸¬åˆ° `Class 2` (ç„¡äºº) è¶…é 3 ç§’ï¼Œè‡ªå‹•çµæŸ
   - éš¨æ™‚æŒ‰ `Q` éµæ‰‹å‹•çµæŸ

4. **æŸ¥çœ‹çµæœ**:
   - åœ–è¡¨æª”æ¡ˆæœƒå­˜æ”¾åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
   - JSON çµæœå­˜æ–¼ `static/data/analysis_result.json`

### è‡ªå‹•è§¸ç™¼æ¨¡å¼

```bash
python Auto_Switch_refactored.py
```

æ­¤æ¨¡å¼æœƒåœ¨åµæ¸¬åˆ°äººç‰©æ™‚è‡ªå‹•å•Ÿå‹•ä¸»åˆ†æç¨‹å¼ã€‚

### è¼¸å‡ºæª”æ¡ˆèªªæ˜

| æª”æ¡ˆåç¨± | èªªæ˜ |
|---------|------|
| `Customer_Emotion_Wave.jpg` | é¡§å®¢æƒ…ç·’æ³¢å½¢åœ– |
| `Customer_Emotion_Bar1.jpg` | é¡§å®¢æƒ…ç·’åˆ†å¸ƒé•·æ¢åœ– |
| `Server_Emotion_Wave.jpg` | æœå‹™å“¡æƒ…ç·’æ³¢å½¢åœ– (é›™é¡é ­) |
| `Customer_Emotion_Wave & Server_Emotion_Wave.jpg` | åˆä½µæƒ…ç·’åˆ†æåœ– |
| `output_cam0.mp4` | é¡§å®¢æ”å½±æ©ŸéŒ„å½± |
| `output_cam1.mp4` | æœå‹™å“¡æ”å½±æ©ŸéŒ„å½± |
| `static/data/analysis_result.json` | JSON æ ¼å¼åˆ†æçµæœ |

---

## ğŸ”Œ API ç«¯é»

### èªè­‰ API (`/api/auth`)

| æ–¹æ³• | ç«¯é» | èªªæ˜ | èªè­‰ |
|------|------|------|------|
| POST | `/register` | ä½¿ç”¨è€…è¨»å†Š | âŒ |
| POST | `/login` | ä½¿ç”¨è€…ç™»å…¥ï¼Œå›å‚³ JWT Token | âŒ |
| POST | `/refresh` | åˆ·æ–° Access Token | ğŸ”‘ Refresh Token |
| GET | `/me` | å–å¾—ç•¶å‰ä½¿ç”¨è€…è³‡è¨Š | ğŸ”‘ Access Token |

### åˆ†æ API (`/api/analytics`)

| æ–¹æ³• | ç«¯é» | èªªæ˜ | åƒæ•¸ |
|------|------|------|------|
| GET | `/performance-trend` | ç¸¾æ•ˆè¶¨å‹¢ (æ™‚é–“åºåˆ—) | `timeRange`, `metric` |
| GET | `/summary` | çµ±è¨ˆæ‘˜è¦ | - |

### ä¸Šå‚³ API (`/api/uploads`)

| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| POST | `/upload` | ä¸Šå‚³æª”æ¡ˆ |
| GET | `/list` | åˆ—å‡ºæª”æ¡ˆ |
| GET | `/download/<id>` | ä¸‹è¼‰æª”æ¡ˆ |
| DELETE | `/<id>` | åˆªé™¤æª”æ¡ˆ |

### é¡Œåº« API (`/api/questions`)

| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| GET | `/` | å–å¾—é¡Œç›®åˆ—è¡¨ |
| POST | `/` | æ–°å¢é¡Œç›® |
| PUT | `/<id>` | æ›´æ–°é¡Œç›® |
| DELETE | `/<id>` | åˆªé™¤é¡Œç›® |
| POST | `/generate` | AI ç”Ÿæˆé¡Œç›® |
| POST | `/import` | åŒ¯å…¥é¡Œç›® (JSON) |
| GET | `/export` | åŒ¯å‡ºé¡Œç›® (JSON) |

### AI æ•™ç·´ API (`/api/coach`)

| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| POST | `/chat` | ç™¼é€è¨Šæ¯ï¼Œå–å¾— AI å›è¦† |
| GET | `/stream` | SSE ä¸²æµå›æ‡‰ |
| GET | `/suggestions` | å–å¾—å°è©±å»ºè­° |

### è¨­å®š API (`/api/settings`)

| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| GET | `/` | å–å¾—ä½¿ç”¨è€…è¨­å®š |
| PUT | `/` | æ›´æ–°ä½¿ç”¨è€…è¨­å®š |
| PUT | `/ai` | æ›´æ–° AI Provider è¨­å®š |

### ç³»çµ± API

| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| GET | `/api/health` | å¥åº·æª¢æŸ¥ |

---

## ğŸ—„ï¸ è³‡æ–™åº«æ¨¡å‹

### Userï¼ˆä½¿ç”¨è€…ï¼‰

```sql
users
â”œâ”€â”€ id: UUID (PK)
â”œâ”€â”€ email: VARCHAR(255) UNIQUE
â”œâ”€â”€ password_hash: VARCHAR(255)
â”œâ”€â”€ name: VARCHAR(100)
â”œâ”€â”€ role: VARCHAR(50) [default: 'user']
â”œâ”€â”€ created_at: DATETIME
â””â”€â”€ updated_at: DATETIME
```

### UserSettingsï¼ˆä½¿ç”¨è€…è¨­å®šï¼‰

```sql
user_settings
â”œâ”€â”€ id: INTEGER (PK)
â”œâ”€â”€ user_id: UUID (FK â†’ users.id)
â”œâ”€â”€ display_name: VARCHAR(100)
â”œâ”€â”€ job_role: VARCHAR(100)
â”œâ”€â”€ language: VARCHAR(10) [default: 'en']
â”œâ”€â”€ ai_provider: VARCHAR(50) [default: 'ollama']
â”œâ”€â”€ ai_api_key_encrypted: TEXT  -- Fernet åŠ å¯†
â”œâ”€â”€ ai_model: VARCHAR(100)
â”œâ”€â”€ prompt_global: TEXT
â”œâ”€â”€ prompt_interview: TEXT
â””â”€â”€ prompt_coach: TEXT
```

### Interviewï¼ˆé¢è©¦è¨˜éŒ„ï¼‰

```sql
interviews
â”œâ”€â”€ id: UUID (PK)
â”œâ”€â”€ user_id: UUID (FK â†’ users.id)
â”œâ”€â”€ title: VARCHAR(255)
â”œâ”€â”€ status: VARCHAR(50) [pending/in_progress/completed/failed]
â”œâ”€â”€ created_at: DATETIME
â”œâ”€â”€ completed_at: DATETIME
â”œâ”€â”€ actual_duration: INTEGER (ç§’)
â”œâ”€â”€ video_url_cam0: VARCHAR(500)
â””â”€â”€ video_url_cam1: VARCHAR(500)
```

### AnalysisReportï¼ˆåˆ†æå ±å‘Šï¼‰

```sql
analysis_reports
â”œâ”€â”€ id: UUID (PK)
â”œâ”€â”€ interview_id: UUID (FK â†’ interviews.id)
â”œâ”€â”€ status: VARCHAR(50) [pending/processing/completed/failed]
â”œâ”€â”€ overall_score: FLOAT [0-100]
â”œâ”€â”€ empathy_score: FLOAT
â”œâ”€â”€ confidence_score: FLOAT
â”œâ”€â”€ technical_score: FLOAT
â”œâ”€â”€ clarity_score: FLOAT
â”œâ”€â”€ emotion_data: JSON  -- æƒ…ç·’æ™‚é–“ç·šæ•¸æ“š
â”œâ”€â”€ suggestions: JSON   -- AI å»ºè­°
â””â”€â”€ created_at: DATETIME
```

### Questionï¼ˆé¡Œåº«ï¼‰

```sql
questions
â”œâ”€â”€ id: UUID (PK)
â”œâ”€â”€ text: TEXT
â”œâ”€â”€ type: VARCHAR(50) [Behavioral/Technical/System Design]
â”œâ”€â”€ difficulty: VARCHAR(20) [Junior/Mid/Senior]
â”œâ”€â”€ role: VARCHAR(50) [Frontend/Backend/PM/...]
â”œâ”€â”€ tags: JSON
â”œâ”€â”€ example_answer: TEXT
â”œâ”€â”€ created_by: VARCHAR(50) [system/user_id]
â””â”€â”€ created_at: DATETIME
```

---

## ğŸ¤– AI Provider æ•´åˆ

æœ¬å°ˆæ¡ˆæ”¯æ´å¤šç¨® AI Providerï¼Œé€éçµ±ä¸€çš„æŠ½è±¡ä»‹é¢é€²è¡Œæ•´åˆï¼š

### æ”¯æ´çš„ Provider

| Provider | æ¨¡å‹ | ç‰¹è‰² | ä¸²æµæ”¯æ´ |
|----------|------|------|----------|
| **OpenAI** | GPT-4o, GPT-4o-mini | æœ€å¼·æ¨ç†èƒ½åŠ› | âœ… |
| **Anthropic** | Claude 3 Sonnet/Opus | é•·æ–‡ç†è§£å„ªç§€ | âœ… |
| **Google** | Gemini 1.5 Flash/Pro | å¤šæ¨¡æ…‹æ”¯æ´ | âœ… |
| **Ollama** | Llama 3, Mistral, etc. | **æœ¬åœ°é‹è¡Œï¼Œå…è²»** | âœ… |

### Provider æ¶æ§‹

```text
backend/services/providers/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ base.py          # AIProviderBase æŠ½è±¡åŸºé¡
â”œâ”€â”€ registry.py      # Provider å·¥å» è¨»å†Šå™¨
â”œâ”€â”€ openai_provider.py
â”œâ”€â”€ anthropic_provider.py
â”œâ”€â”€ google_provider.py
â””â”€â”€ ollama_provider.py
```

### ä½¿ç”¨ç¯„ä¾‹

```python
from backend.services.providers import get_provider

# å–å¾— Provider å¯¦ä¾‹
provider = get_provider('openai', api_key='sk-xxx')

# åŒæ­¥å°è©±
response = provider.chat(messages=[{'role': 'user', 'content': 'Hello'}])

# ä¸²æµå°è©±
for chunk in provider.stream(messages):
    print(chunk, end='', flush=True)
```

### æ–°å¢è‡ªè¨‚ Provider

1. åœ¨ `backend/services/providers/` å»ºç«‹æ–°æª”æ¡ˆ
2. ç¹¼æ‰¿ `AIProviderBase` ä¸¦å¯¦ä½œ `chat()` å’Œ `stream()` æ–¹æ³•
3. åœ¨ `registry.py` ä¸­è¨»å†Š

---

## âš¡ æ•ˆèƒ½å„ªåŒ–

### æƒ…ç·’åˆ†æç³»çµ±å„ªåŒ–

æœ¬å°ˆæ¡ˆæ¡ç”¨ **Producer-Consumer éåŒæ­¥æ¶æ§‹**ï¼Œå¤§å¹…æå‡åˆ†ææ•ˆèƒ½ï¼š

#### ThreadedCameraï¼ˆåŸ·è¡Œç·’åŒ–æ”å½±æ©Ÿï¼‰

```python
# å‚³çµ±æ–¹å¼ï¼šé˜»å¡å¼è®€å–
ret, frame = cap.read()  # æ¯æ¬¡ ~33ms é˜»å¡

# å„ªåŒ–æ–¹å¼ï¼šèƒŒæ™¯åŸ·è¡Œç·’æŒçºŒè®€å–
class ThreadedCamera:
    def __init__(self):
        self.thread = threading.Thread(target=self._update)
        self.frame_buffer = deque(maxlen=2)
    
    def read(self):  # éé˜»å¡ï¼Œç›´æ¥å¾ buffer è®€å–
        return self.frame_buffer[-1]
```

**æ•ˆèƒ½æå‡ï¼š2-3x FPS æå‡**

#### AsyncDeepFaceAnalyzerï¼ˆéåŒæ­¥åˆ†æå™¨ï¼‰

```python
class AsyncDeepFaceAnalyzer:
    def __init__(self):
        self.frame_queue = Queue(maxsize=2)
        self.result_queue = Queue(maxsize=10)
        self.worker_thread = threading.Thread(target=self._analyze_worker)
    
    # Producer: ä¸»åŸ·è¡Œç·’æ”¾å…¥ frame
    def submit_frame(self, frame):
        if not self.frame_queue.full():
            self.frame_queue.put(frame)
    
    # Consumer: èƒŒæ™¯åŸ·è¡Œç·’åˆ†æ
    def _analyze_worker(self):
        while self.running:
            frame = self.frame_queue.get()
            result = DeepFace.analyze(frame, ...)
            self.result_queue.put(result)
```

**æ•ˆèƒ½æå‡ï¼š10-30x åˆ†æååé‡**

#### å„ªåŒ–ç­–ç•¥

| ç­–ç•¥ | èªªæ˜ | æ•ˆæœ |
|------|------|------|
| **Frame Skipping** | æ¯ 5 å¹€åˆ†æä¸€æ¬¡ | æ¸›å°‘ 80% é‹ç®—é‡ |
| **Image Downsampling** | ç¸®æ”¾è‡³ 320x240 åˆ†æ | æ¸›å°‘ 75% é‹ç®—é‡ |
| **Result Caching** | äººå£çµ±è¨ˆè³‡æ–™å¿«å– | 8 ç§’å¾Œåœæ­¢é‡è¤‡åˆ†æ |
| **Metal/CUDA GPU** | è‡ªå‹•åµæ¸¬ä¸¦ä½¿ç”¨ GPU | 2-5x åŠ é€Ÿ |

### å‰ç«¯æ•ˆèƒ½å„ªåŒ–

- **React.memo**: é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“
- **useMemo/useCallback**: å¿«å–è¨ˆç®—çµæœå’Œå‡½æ•¸
- **Vite ä»£ç¢¼åˆ†å‰²**: æŒ‰éœ€è¼‰å…¥é é¢å…ƒä»¶
- **Tailwind CSS JIT**: åªç”¢ç”Ÿä½¿ç”¨åˆ°çš„æ¨£å¼

---

## ğŸ§ª é–‹ç™¼æŒ‡å—

### åŸ·è¡Œæ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰å¾Œç«¯æ¸¬è©¦
cd backend
pytest tests/ -v

# åŸ·è¡Œç‰¹å®šæ¸¬è©¦
pytest tests/test_auth_service.py -v

# ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
pytest --cov=. --cov-report=html

# åŸ·è¡Œå‰ç«¯/æ ¸å¿ƒæ¸¬è©¦
cd ..
pytest tests/ -v
```

### ç¨‹å¼ç¢¼é¢¨æ ¼

- **Python**: éµå¾ª PEP 8ï¼Œ4 ç©ºæ ¼ç¸®æ’ï¼Œsnake_case å‘½å
- **TypeScript**: ä½¿ç”¨ ESLint + Prettier
- **æäº¤è¨Šæ¯**: ä½¿ç”¨ Conventional Commits (`feat:`, `fix:`, `docs:`, `chore:`)

### è³‡æ–™åº«é·ç§»

```bash
cd backend
flask db migrate -m "æè¿°è®Šæ›´"
flask db upgrade
```

### æ–°å¢ AI Provider

1. åœ¨ `backend/services/providers/` å»ºç«‹æ–°çš„ provider é¡åˆ¥
2. ç¹¼æ‰¿ `AIProviderBase` æŠ½è±¡åŸºé¡
3. åœ¨ `registry.py` ä¸­è¨»å†Šæ–°çš„ provider

```python
# backend/services/providers/my_provider.py
from .base import AIProviderBase

class MyProvider(AIProviderBase):
    def __init__(self, api_key: str, model: str = None):
        super().__init__(api_key, model or "default-model")

    def chat(self, messages: list, **kwargs) -> str:
        # å¯¦ä½œèŠå¤©é‚è¼¯
        pass

    def stream(self, messages: list, **kwargs):
        # å¯¦ä½œä¸²æµé‚è¼¯
        yield from ...
```

---

## â“ å¸¸è¦‹å•é¡Œ

### Q: ç’°å¢ƒæœªå•Ÿç”¨ï¼Ÿ

```bash
# ç¢ºèªç•¶å‰ç’°å¢ƒ
echo $CONDA_DEFAULT_ENV

# å•Ÿç”¨ç’°å¢ƒ
conda activate new_tf_env
```

### Q: æ‰¾ä¸åˆ°æ¨¡çµ„ï¼Ÿ

```bash
# ç¢ºèªä½¿ç”¨æ­£ç¢ºçš„ Python
which python
# æ‡‰é¡¯ç¤º: /path/to/miniforge3/envs/new_tf_env/bin/python

# é‡æ–°å•Ÿç”¨ç’°å¢ƒ
conda deactivate && conda activate new_tf_env
```

### Q: æ”å½±æ©Ÿç„¡æ³•é–‹å•Ÿï¼Ÿ

**macOS:**

1. é–‹å•Ÿã€Œç³»çµ±è¨­å®šã€â†’ã€Œéš±ç§æ¬Šèˆ‡å®‰å…¨æ€§ã€â†’ã€Œæ”å½±æ©Ÿã€
2. å…è¨±çµ‚ç«¯æ©Ÿæˆ– IDE å­˜å–æ”å½±æ©Ÿ

**æ¸¬è©¦æ”å½±æ©Ÿ:**

```bash
python -c "
import cv2
cap0 = cv2.VideoCapture(0)
cap1 = cv2.VideoCapture(1)
print('æ”å½±æ©Ÿ 0:', 'å¯ç”¨' if cap0.isOpened() else 'ç„¡æ³•é–‹å•Ÿ')
print('æ”å½±æ©Ÿ 1:', 'å¯ç”¨' if cap1.isOpened() else 'ç„¡æ³•é–‹å•Ÿ')
cap0.release(); cap1.release()
"
```

### Q: å‰ç«¯ä¾è³´å®‰è£å¤±æ•—ï¼Ÿ

```bash
# æ¸…é™¤å¿«å–ä¸¦é‡æ–°å®‰è£
rm -rf node_modules pnpm-lock.yaml
pnpm install

# æˆ–ä½¿ç”¨ npm with legacy peer deps
npm install --legacy-peer-deps
```

### Q: å¾Œç«¯å•Ÿå‹•æ™‚å‡ºç¾ JWT éŒ¯èª¤ï¼Ÿ

ç¢ºä¿ `.env` æª”æ¡ˆä¸­è¨­å®šäº† `SECRET_KEY` å’Œ `JWT_SECRET_KEY`ã€‚

### Q: AI åŠŸèƒ½ç„¡æ³•ä½¿ç”¨ï¼Ÿ

1. ç¢ºèª AI Provider è¨­å®šæ­£ç¢º (Settings é é¢)
2. ç¢ºèª API Key å·²æ­£ç¢ºè¼¸å…¥
3. æª¢æŸ¥ç¶²è·¯é€£ç·š

### Q: DeepFace åˆ†æé€Ÿåº¦å¾ˆæ…¢ï¼Ÿ

1. ç¢ºèªä½¿ç”¨ `opencv` ä½œç‚º detector_backend (æœ€å¿«)
2. æª¢æŸ¥ `.env` ä¸­çš„ `DEEPFACE_FRAME_SKIP` è¨­å®š
3. é™ä½æ”å½±æ©Ÿè§£æåº¦ (`CAMERA_WIDTH`, `CAMERA_HEIGHT`)

---

## ğŸ› ï¸ æŠ€è¡“æ£§

### å¾Œç«¯

- **æ¡†æ¶**: Flask 3.0 + Flask-CORS + Flask-JWT-Extended
- **è³‡æ–™åº«**: SQLAlchemy 2.0 + Flask-Migrate + SQLite
- **èªè­‰**: JWT (Access + Refresh Token) + bcrypt å¯†ç¢¼é›œæ¹Š
- **åŠ å¯†**: Cryptography (Fernet AES-128-CBC)
- **AI æ•´åˆ**: OpenAI SDK, Anthropic SDK, Google GenerativeAI, Ollama

### å‰ç«¯

- **æ¡†æ¶**: React 18.2 + TypeScript 5.8
- **æ‰“åŒ…å·¥å…·**: Vite 6.2
- **æ¨£å¼**: Tailwind CSS 4.1 + PostCSS
- **åœ–è¡¨**: Recharts 2.12
- **åœ–ç¤º**: Lucide React 0.358

### æƒ…ç·’åˆ†æ

- **æ·±åº¦å­¸ç¿’**: TensorFlow 2.13 + Keras 2.13
- **è‡‰éƒ¨åˆ†æ**: DeepFace 0.0.85 (æ”¯æ´ VGG-Face, FaceNet, ArcFace ç­‰ 11+ æ¨¡å‹)
- **å½±åƒè™•ç†**: OpenCV 4.9 + NumPy 1.24 + Pillow 10.2
- **åœ–è¡¨**: Matplotlib + Pandas 2.0

### DeepFace æ”¯æ´çš„åŠŸèƒ½

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| **æƒ…ç·’è¾¨è­˜** | angry, disgust, fear, happy, sad, surprise, neutral |
| **å¹´é½¡ä¼°ç®—** | Â± 4.65 MAE (Mean Absolute Error) |
| **æ€§åˆ¥è¾¨è­˜** | 97.44% æº–ç¢ºç‡ |
| **äººè‡‰åµæ¸¬** | OpenCV, SSD, MTCNN, RetinaFace, MediaPipe, YOLOv8 ç­‰ |

---

## ğŸ“œ æˆæ¬Šè³‡è¨Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆã€‚

### ç¬¬ä¸‰æ–¹æˆæ¬Š

- **DeepFace**: MIT License - [serengil/deepface](https://github.com/serengil/deepface)
- **TensorFlow**: Apache 2.0 License
- **Flask**: BSD-3-Clause License
- **React**: MIT License

---

## ğŸ¤ è¯çµ¡èˆ‡è²¢ç»

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿é€éä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š

- **Issue**: [GitHub Issues](https://github.com/1104030360/AI-Interview-Pro-/issues)
- **Pull Request**: æ­¡è¿æäº¤ PRï¼Œè«‹éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è¦ç¯„

### è²¢ç»æŒ‡å—

1. Fork æœ¬å°ˆæ¡ˆ
2. å»ºç«‹åŠŸèƒ½åˆ†æ”¯ (`git checkout -b feat/amazing-feature`)
3. æäº¤è®Šæ›´ (`git commit -m 'feat: add amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feat/amazing-feature`)
5. é–‹å•Ÿ Pull Request

---

<div align="center">

**Made with â¤ï¸ for better interview preparation**

*â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°ä½ æœ‰å¹«åŠ©ï¼Œæ­¡è¿çµ¦å€‹ Starï¼*

</div>
